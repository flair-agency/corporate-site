@config "../tailwind.config.js";

@import "tailwindcss";

@import "./business.css";
@import "./company.css";
@import "./creator.css";

@layer base {
  /* TOKENS */
  :root {
    --brand: #ff5a3c;
    --brand-accent-bg: #fff3ef;
    --brand-accent-border: #ffb9a7;
    --brand-chip-border: #ffd0c5;
    --brand-chip-bg: #fff7f5;
    --brand-chip-text: #9a3412;
    --brand-chip-accent-border: #fdba74;
    --brand-chip-accent-bg: #fff3e8;

    --cool-head: #0f172a;
    --cool-body: #334155;

    --font-fallback-sans:
      "Hiragino Kaku Gothic ProN", "Hiragino Sans", "Yu Gothic", "Meiryo",
      system-ui, -apple-system, "Segoe UI", sans-serif;
    --font-family-sans: "Inter", var(--font-fallback-sans);

    --text-body: #333;
    --text-muted: #666;
    --page-bg: #f7f7f7;
    --white: #fff;
    --section-bg: #fff;
    --section-border: #e5e7eb;
    --section-text: #111827;
    --hero-fallback-bg: #1a202c;
    --hero-overlay-bg: rgba(0, 0, 0, 0.2);
    --hero-title-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);

    --radius-base: 0.5rem;
    --radius-pill: 999px;
    --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
    --shadow-brand-hover: 0 6px 18px rgba(255, 90, 60, 0.25);

    --hero-height: clamp(520px, 70vh, 680px);
    --section-pad-y: 4rem;
    --section-pad-x: 1rem;
    --section-margin-y: 2rem;
    --section-margin-x: 1rem;

    --header-bg: rgba(255, 255, 255, 0.9);
    --header-border: #eee;
    --header-blur: saturate(180%) blur(10px);

    --on-page-link: #374151;
    --on-page-link-hover-bg: #fff1ee;
    --on-page-link-hover-text: #111827;
    --on-page-link-active-bg: var(--brand);
    --on-page-link-active-text: #fff;
    --on-page-scrollbar-thumb: #e5e7eb;

    --on-site-text: #6b7280;
    --on-site-link: #e5e7eb;
    --on-site-link-hover-bg: #374151;
    --on-site-link-hover-text: #fff;
    --on-site-link-current-bg: #fff;
    --on-site-link-current-text: #111827;
    --on-site-link-current-border: #e5e7eb;

    --underline-cool-from: #3b82f6;
    --underline-cool-to: #22d3ee;
    --underline-warm-from: var(--brand);
    --underline-warm-to: #f59e0b;
  }

  html {
    @apply scroll-smooth;
  }

  body {
    @apply bg-(--page-bg) leading-[1.8] font-(--font-family-sans) text-(--text-body) [text-rendering:optimizeLegibility];

    & > header,
    & > footer {
      @apply mx-auto max-w-275;
    }

    & > main {
      @apply mx-auto w-full max-w-6xl px-4;
    }
  }

  img[width][height] {
    @apply h-auto;
  }

  section {
    @apply scroll-mt-22;
  }

  main > section {
    @apply mx-(--section-margin-x) my-(--section-margin-y) px-(--section-pad-x) py-(--section-pad-y);
  }

  ul,
  ol {
    @apply ml-0 list-outside pl-5;
  }

  ul ul,
  ul ol,
  ol ul,
  ol ol {
    @apply pl-5;
  }
}

@layer components {
  body > header {
    @apply sticky top-0 z-50 flex items-center justify-between gap-3 border-b border-(--header-border) bg-linear-to-b from-(--page-bg) from-0% via-[rgba(255,255,255,.9)] via-40% to-(--header-bg) to-100% px-4 pt-[calc(env(safe-area-inset-top)+.5rem)] pb-3 shadow-sm backdrop-filter-(--header-blur);
  }

  body > footer {
    @apply bg-linear-to-b from-[rgba(15,23,42,.04)] from-0% via-[rgba(15,23,42,.02)] via-35% to-(--page-bg) to-100% px-6 pt-6 pb-[calc(env(safe-area-inset-bottom)+.5rem)] text-center text-[#4b5563];
  }

  nav.on-page {
    @apply flex flex-1 items-center justify-end gap-3;

    & > button.toggle {
      @apply hidden h-10 w-10 items-center justify-center;

      & + menu {
        @apply flex flex-1 flex-nowrap gap-2.5 overflow-x-auto px-0 py-1.5 whitespace-nowrap;

        &::-webkit-scrollbar {
          @apply h-1.5;
        }

        &::-webkit-scrollbar-thumb {
          @apply rounded-full bg-(--on-page-scrollbar-thumb);
        }

        li a {
          @apply rounded-full px-2.5 py-2 text-[13px] text-(--on-page-link) hover:bg-(--on-page-link-hover-bg) hover:text-(--on-page-link-hover-text);

          &:active {
            @apply bg-(--on-page-link-active-bg) text-(--on-page-link-active-text);
          }
        }
      }

      @media (max-width: 767px) {
        html.js & {
          @apply inline-flex;

          & + menu {
            @apply absolute top-[calc(env(safe-area-inset-top)+3rem)] right-4 z-60 hidden min-w-55 flex-col flex-nowrap rounded-xl bg-[rgba(255,255,255,0.96)] p-2.5 shadow-[0_14px_36px_rgba(0,0,0,0.12)];

            li a {
              @apply block px-3 py-2.5;
            }
          }

          &[aria-expanded="true"] + menu {
            @apply flex flex-wrap;
          }
        }

        html.no-js & {
          @apply hidden!;
        }
      }
    }
  }

  .indicator {
    @apply flex -translate-x-1/2 flex-col items-center gap-2 text-slate-500;

    .label {
      @apply text-[11px] tracking-[0.2em];
    }

    .icon {
      @apply grid h-8 w-8 animate-bounce place-items-center rounded-full border border-slate-300;
    }
  }

  section.panel {
    @apply mx-4 mt-8 rounded-lg bg-white shadow-lg;
  }

  section.band {
    @apply mx-auto my-8 max-w-275 px-4 py-16;
  }

  .accentline {
    @apply mx-auto mt-2 mb-0 h-1 rounded-full bg-linear-to-r from-(--underline-warm-from) to-(--underline-warm-to);
  }

  main > section {
    & > hgroup {
      @apply mb-10 text-center;

      & > h2 {
        @apply text-2xl font-bold text-gray-800 md:text-3xl;

        & + .accentline {
          @apply w-20;
        }

        & ~ p {
          @apply mt-4 text-base text-gray-500 md:text-lg;
        }
      }
    }

    &[data-variant~="cool"] {
      @apply bg-linear-[180deg] from-[rgba(255,255,255,0)] to-[rgba(37,99,235,0.06)];

      & > hgroup > h2 {
        @apply text-(--cool-head);

        & + .accentline {
          @apply bg-linear-to-r from-(--underline-cool-from) to-(--underline-cool-to);
        }
      }

      &,
      & p,
      & li,
      & h3,
      & h4 {
        @apply text-(--cool-body);
      }

      .chip {
        @apply border-blue-200 bg-blue-50 text-blue-700;
      }

      .cta.btn {
        @apply bg-blue-600 hover:shadow-[0_6px_18px_rgba(37,99,235,0.25)];
      }
    }

    &.hero {
      @apply relative isolate z-1 mx-4 mt-8 mb-2 flex min-h-(--hero-height) flex-col justify-center overflow-hidden rounded-lg bg-(--hero-fallback-bg) bg-cover bg-center text-center text-(--white) transition-[background-image_0.5s_ease-in-out];

      &::before {
        @apply absolute inset-0 -z-10 rounded-(--radius-base) bg-(--hero-overlay-bg) content-[""];
      }

      & > hgroup {
        & > h2 {
          @apply mb-4 text-3xl leading-[1.3] font-bold text-inherit text-shadow-(--hero-title-shadow) md:text-5xl;

          & + p {
            @apply mx-auto mb-6 max-w-2xl text-base text-inherit opacity-90 md:text-lg;
          }
        }
      }

      & > .indicator {
        @apply absolute bottom-6 left-1/2 z-20;
      }
    }
  }

  .logo {
    @apply block aspect-7/5 h-auto w-17.5 max-w-full rounded-(--radius-base) object-contain;
  }

  /* Small primitives */
  .chip {
    @apply mb-2.5 inline-block rounded-(--radius-pill) border border-(--brand-chip-border) bg-(--brand-chip-bg) px-2.5 py-1.5 text-xs tracking-[0.12em] text-(--brand-chip-text);

    &[data-variant~="accent"] {
      @apply border-(--brand-chip-accent-border) bg-(--brand-chip-accent-bg);
    }
  }

  .cta {
    @apply mt-[clamp(20px,5vw,36px)] text-center;

    &.note {
      @apply mt-2.5 text-sm text-[#666];

      a {
        @apply text-(--brand) underline;
      }
    }

    &.btn {
      @apply inline-block rounded-full bg-(--brand) px-5 py-3 font-bold text-white no-underline transition-[transform_.08s_ease,box-shadow_.2s_ease] hover:-translate-y-px hover:shadow-[0_6px_18px_rgba(255,90,60,0.25)];

      &.secondary {
        @apply border border-gray-300 bg-inherit font-[weight:inherit] text-gray-700 hover:shadow-none;
      }
    }
  }

  nav.on-site {
    @apply mb-2.5 flex justify-center;

    & > menu {
      @apply flex flex-col items-center gap-4 text-xs whitespace-nowrap text-(--on-site-text) sm:flex-row sm:items-start sm:gap-8;

      li a {
        @apply rounded-(--radius-pill) border border-transparent px-2.5 py-1.5 hover:bg-[rgba(15,23,42,0.06)];

        &[aria-current="page"] {
          @apply border-[rgba(15,23,42,0.12)] bg-[rgba(15,23,42,0.08)] text-[#0f172a];
        }
      }
    }
  }

  footer ul.note {
    @apply w-fit list-["â€»"] pl-4;

    li {
      @apply pl-1 text-xs text-gray-600 marker:text-[.5rem];

      small {
        @apply text-[size:inherit];
      }
    }
  }
}

@layer utilities {
  .full-bleed {
    @apply relative right-1/2 left-1/2 -mx-[50vw] w-screen;
  }

  .fas,
  .far,
  .fab,
  .fa-solid,
  .fa-regular,
  .fa-brands {
    @apply inline-block min-w-[1.25em] text-center leading-none;
  }
}
