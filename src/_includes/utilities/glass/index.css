/* Liquid Glass */

body:has(main[data-variant~="glass"]) {
  /* Liquid Glass raw tokens (project-native) */
  --glass-surface: oklch(from var(--palette-neutral-0) l c h / 0.62);
  --glass-surface-strong: oklch(from var(--palette-neutral-0) l c h / 0.78);
  --glass-line: oklch(from var(--palette-neutral-0) l c h / 0.38);
  --glass-line-strong: oklch(from var(--palette-neutral-0) l c h / 0.52);
  --glass-shadow: 0 14px 36px oklch(from var(--color-black) l c h / 0.12);
  --glass-shadow-weak: 0 10px 28px
    oklch(from var(--color-black) l c h / 0.08);
  --glass-blur: saturate(140%) blur(14px);
  --glass-blur-strong: saturate(160%) blur(18px);

  /* Liquid Glass variant */
  --color-surface--glass: var(--glass-surface);
  --color-surface--glass--strong: var(--glass-surface-strong);
  --color-line--glass: var(--glass-line);
  --color-line--glass--strong: var(--glass-line-strong);

  > header {
    /* Effects */
    @apply shadow-[0_10px_28px_slate-950/8];
  }

  main > section.hero {
    /* Background */
    @apply bg-(--color-surface--glass--strong);
    /* Border */
    @apply border border-solid border-(--color-line--glass--strong);
    /* Layout */
    @apply rounded-2xl;
    /* Effects */
    @apply shadow-(--glass-shadow);
  }

  main > section.panel {
    /* Background */
    @apply bg-(--color-surface--glass);
    /* Border */
    @apply border border-solid border-(--color-line--glass);
    /* Layout */
    @apply rounded-2xl;
    /* Effects */
    @apply shadow-(--glass-shadow-weak) backdrop-filter-(--glass-blur);
  }

  @media (max-width: 767px) {
    html.js nav.on-page > button.toggle + menu {
      /* Background */
      @apply bg-(--color-surface--glass);
      /* Border */
      @apply border border-(--color-line--glass);
      /* Effects */
      @apply shadow-(--glass-shadow) backdrop-filter-(--glass-blur);
    }
  }

  .cta.btn {
    /* Background */
    @apply bg-brand/72;
    /* Border */
    @apply border border-solid border-surface/30;
    /* Effects */
    @apply shadow-[inset_0_1px_0_white/28,0_10px_24px_brand/18] backdrop-filter-(--glass-blur);

    &::before {
      /* Generated Content */
      @apply content-[""];
      /* Background */
      @apply bg-linear-120 from-surface/0 via-surface/26 to-surface/0 from-42% via-50% to-58%;
      /* Layout */
      @apply pointer-events-none absolute inset-[-70%_-55%];
      /* Animation */
      @apply transition-opacity duration-180;
      /* Effects */
      @apply transform-none opacity-0 blur-[1px];
      /* Appearance */
      @apply hover:opacity-65 focus-visible:opacity-65;
      /* Animation */
      @apply motion-reduce:transition-none;
    }

    &:focus-visible {
      /* Effects */
      @apply shadow-[inset_0_1px_0_white/28,0_10px_24px_brand/18,0_0_0_3px_brand/22];
      /* Appearance */
      @apply outline-none;
    }

    &::after {
      /* Generated Content */
      @apply content-[""];
      /* Background */
      @apply bg-linear-to-b from-surface/30 to-surface/0 to-55%;
      /* Layout */
      @apply pointer-events-none absolute inset-0;
      /* Border */
      @apply rounded-[inherit];
      /* Effects */
      @apply opacity-18;
    }

    &[data-variant~="secondary"] {
      /* Background */
      @apply bg-surface/58;
      /* Text */
      @apply text-ink--secondary;
      /* Border */
      @apply border border-solid border-slate-950/14;
      /* Effects */
      @apply shadow-[inset_0_1px_0_from_white/38,0_10px_24px_slate-950/10] backdrop-filter-(--glass-blur);
      /* Appearance */
      @apply before:opacity-18;

      &:focus-visible {
        /* Effects */
        @apply shadow-[inset_0_1px_0_white/38,0_10px_24px_slate-950/10,0_0_0_3px_slate-950/16];
        /* Appearance */
        @apply outline-none;
      }
    }
  }
}
